<!DOCTYPE html>
<html lang="ja">
<head>
	<meta charset="utf-8">
	<title>D3 Tutorials</title>
	<script type="text/javascript" src="d3/d3.v3.js"></script>
	<style type="text/css">
		div.bar {
			display: inline-block;
			width: 20px;
			height: 75px;   /* この数値は実行時に上書きされます */
			background-color: teal;
			margin-right: 2px;
		}
		pre {
			white-space: pre-line;
		}
		svg .pumpkin {
			fill: yellow;
			stroke: orange;
			stroke-width: 5;
		}
	</style>
</head>
<body>

<h2>SVGのシェイプ</h2>
<div>
	<h4>長方形</h4>
	<pre>
		<code>
			&lt;rect x="0" y="0" width="500" height="50"/&gt;
		</code>
	</pre>
	<svg width="500" height="50">
		<rect x="0" y="0" width="500" height="50"/>
	</svg>
</div>

<div>
	<h4>円形</h4>
	<pre>
		<code>
			&lt;circle cx="250" cy="25" r="25"/&gt;
		</code>
	</pre>
	<svg width="500" height="50">
		<circle cx="250" cy="25" r="25"/>
	</svg>
</div>

<div>
	<h4>楕円形</h4>
	<pre>
		<code>
			&lt;ellipse cx="250" cy="25" rx="100" ry="25"/&gt;
		</code>
	</pre>
	<svg width="500" height="50">
		<ellipse cx="250" cy="25" rx="100" ry="25"/>
	</svg>
</div>

<div>
	<h4>直線</h4>
	<pre>
		<code>
			&lt;line x1="0" y1="0" x2="500" y2="50" stroke="black"/&gt;
		</code>
	</pre>
	<svg width="500" height="50">
		<line x1="0" y1="0" x2="500" y2="50" stroke="black"/>
	</svg>
</div>

<div>
	<h4>文字</h4>
	<pre>
		<code>
			&lt;text x="250" y="25"&gt;javascript&lt;/text&gt;
		</code>
	</pre>
	<svg width="500" height="50">
		<text x="250" y="25">javascript</text>
	</svg>
</div>

<div>
	<h4>文字（ベースラインが基準になるので見切れに注意する）</h4>
	<pre>
		<code>
			&lt;text x="250" y="50" font-family="sans-serif" font-size="25" fill="gray"&gt;javascript&lt;/text&gt;
		</code>
	</pre>
	<svg width="500" height="50">
		<text x="250" y="50" font-family="sans-serif" font-size="25" fill="gray">javascript</text>
	</svg>
</div>



<h2>SVGのスタイル</h2>
<div>
	<h4>塗りつぶしの色</h4>
	<pre>
		<code>
			&lt;circle cx="250" cy="25" r="25" fill="#006600"/&gt;
		</code>
	</pre>
	<svg width="500" height="50">
		<circle cx="250" cy="25" r="25" fill="#006600"/>
	</svg>

	<h4>外形線の色</h4>
	<pre>
		<code>
			&lt;circle cx="250" cy="25" r="25" fill="#ffffff" stroke="#660000"/&gt;
		</code>
	</pre>
	<svg width="500" height="50">
		<circle cx="250" cy="25" r="25" fill="#ffffff" stroke="#660000"/>
	</svg>

	<h4>外形線の太さ</h4>
	<pre>
		<code>
			&lt;circle cx="250" cy="25" r="20" fill="#ffffff" stroke="#660000" stroke-width="10"/&gt;
		</code>
	</pre>
	<svg width="500" height="50">
		<circle cx="250" cy="25" r="20" fill="#ffffff" stroke="#660000" stroke-width="10"/>
	</svg>

	<h4>透明度</h4>
	<pre>
		<code>
			&lt;circle cx="250" cy="25" r="20" fill="#ffffff" stroke="#660000" stroke-width="10" opacity="0.6"/&gt;
		</code>
	</pre>
	<svg width="500" height="50">
		<circle cx="250" cy="25" r="20" fill="#ffffff" stroke="#660000" stroke-width="10" opacity="0.6"/>
	</svg>

	<h4>フォントファミリー、フォントサイズ</h4>
	<pre>
		<code>
			&lt;text x="250" y="25" font-family="Helvetica,​arial,sans-serif" font-size="25" fill="gray"&gt;javascript&lt;/text&gt;
		</code>
	</pre>
	<svg width="500" height="50">
		<text x="250" y="25" font-family="Helvetica,​arial,sans-serif" font-size="25" fill="gray">javascript</text>
	</svg>
</div>



<h2>SVGのスタイルをCSSで指定する</h2>
<div>
	<p>
		前述の通り、背景色を指定するプロパティがSVGでは違う<br>
		通常: background-color<br>
		SVG: fill<br>
	</p>
	<p>
		以下の通り、セレクタにsvg要素を含めておくと分かりやすい<br>
	</p>
	<pre>
		<code>
			&lt;circle cx="250" cy="25" r="22" class="pumpkin"/&gt;
		</code>
	</pre>
	<pre>
		<code>
			svg .pumpkin {
				fill: yellow;
				stroke: orange;
				stroke-width: 5;
			}
		</code>
	</pre>
	<svg width="500" height="50">
		<circle cx="250" cy="25" r="22" class="pumpkin"/>
	</svg>
</div>



<h2>描画の順序</h2>
<p>SVGにはレイヤも深度の概念もない。CSSのz-indexプロパティもサポートしていない。</p>
<p>ただし、複数のシェイプを書くと、書いた順に重ねて表示される。</p>
<div>
		<pre>
		<code>
			&lt;rect x="0" y="0" width="30" height="30" fill="purple"/&gt;
			&lt;rect x="20" y="5" width="30" height="30" fill="blue"/&gt;
			&lt;rect x="40" y="10" width="30" height="30" fill="green"/&gt;
			&lt;rect x="60" y="15" width="30" height="30" fill="yellow"/&gt;
			&lt;rect x="80" y="20" width="30" height="30" fill="red"/&gt;
		</code>
	</pre>
	<svg width="500" height="50">
		<rect x="0" y="0" width="30" height="30" fill="purple"/>
		<rect x="20" y="5" width="30" height="30" fill="blue"/>
		<rect x="40" y="10" width="30" height="30" fill="green"/>
		<rect x="60" y="15" width="30" height="30" fill="yellow"/>
		<rect x="80" y="20" width="30" height="30" fill="red"/>
	</svg>
</div>



<h2>透過性</h2>
<div>
	<p>opacityアトリビュートでも指定できるし、rgba()でも指定できる</p>
	<pre>
		<code>
			&lt;circle cx="25" cy="25" r="20" fill="rgba(128, 0, 128, 1.0)"/&gt;
			&lt;circle cx="50" cy="25" r="20" fill="rgba(0, 0, 255, 0.75)"/&gt;
			&lt;circle cx="75" cy="25" r="20" fill="rgba(0, 255, 0, 0.5)"/&gt;
			&lt;circle cx="100" cy="25" r="20" fill="rgba(255, 255, 0, 0.25)"/&gt;
			&lt;circle cx="125" cy="25" r="20" fill="rgba(255, 0, 0, 0.1)"/&gt;
		</code>
	</pre>
	<svg width="500" height="50">
		<circle cx="25" cy="25" r="20" fill="rgba(128, 0, 128, 1.0)"/>
		<circle cx="50" cy="25" r="20" fill="rgba(0, 0, 255, 0.75)"/>
		<circle cx="75" cy="25" r="20" fill="rgba(0, 255, 0, 0.5)"/>
		<circle cx="100" cy="25" r="20" fill="rgba(255, 255, 0, 0.25)"/>
		<circle cx="125" cy="25" r="20" fill="rgba(255, 0, 0, 0.1)"/>
	</svg>
	<p>fillとstrokeに個別に透明度を設定できる</p>
	<p>円が三重に見えているのは、stroke-width の太さは円周の外側に 10 ピクセルではなく、円周を中心に外側に 5 ピクセル、内側に 5 ピクセルずつ広がっていて（合計 10 ピクセル )、内側が fill の色と重なっているため</p>
	<pre>
		<code>
			&lt;circle cx="25" cy="25" r="20" fill="rgba(128, 0, 128, 1.0)"/&gt;
			&lt;circle cx="50" cy="25" r="20" fill="rgba(0, 0, 255, 0.75)"/&gt;
			&lt;circle cx="75" cy="25" r="20" fill="rgba(0, 255, 0, 0.5)"/&gt;
			&lt;circle cx="100" cy="25" r="20" fill="rgba(255, 255, 0, 0.25)"/&gt;
			&lt;circle cx="125" cy="25" r="20" fill="rgba(255, 0, 0, 0.1)"/&gt;
		</code>
	</pre>
	<svg width="500" height="50">
		<circle cx="25" cy="25" r="20" fill="rgba(128, 0, 128, 0.75)" stroke="rgba(0, 255, 0, 0.25)" stroke-width="10"/>
		<circle cx="75" cy="25" r="20" fill="rgba(0, 255, 0, 0.75)" stroke="rgba(0, 0, 255, 0.25)" stroke-width="10"/>
		<circle cx="125" cy="25" r="20" fill="rgba(255, 255, 0, 0.75)" stroke="rgba(255, 0, 0, 0.25)" stroke-width="10"/>
	</svg>
</div>

</body>
</html>